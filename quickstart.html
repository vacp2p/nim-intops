<!DOCTYPE HTML>
<html lang="en-us" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using nimibook -->
        <meta charset="UTF-8">
        <title>Quickstart - intops</title>

        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Integer arithmetics primitives.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
        <link rel="stylesheet" href="./assets/css/variables.css">
        <link rel="stylesheet" href="./assets/css/general.css">
        <link rel="stylesheet" href="./assets/css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="./assets/FontAwesome/css/font-awesome.min.css">

        <!-- Highlight.js Stylesheets - I could use nimib native highlight but let's keep it for styling... -->
        <link rel="stylesheet" href="./assets/css/highlight.css">
        <link rel="stylesheet" href="./assets/css/tomorrow-night.css">
        <link rel="stylesheet" href="./assets/css/ayu-highlight.css">

        <!-- Custom theme stylesheets - why the "../"? -->


        

            <script src="https://cdn.jsdelivr.net/gh/pietroppeter/nimib@main/assets/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

        
        <!-- plausible analytics (new in nimibook) -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = ".//assets";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                                <ol class="chapter">
                <li class="chapter-item expanded ">
                  <a href="./index.html" tabindex="0">
                    <strong aria-hidden="true">1.</strong> Welcome to intops!
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="./quickstart.html" class="active" tabindex="0">
                    <strong aria-hidden="true">2.</strong> Quickstart
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="./contrib.html" tabindex="0">
                    <strong aria-hidden="true">3.</strong> Contributor's Guide
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <a href="./contrib/ops.html" tabindex="0">
                    <strong aria-hidden="true">3.1.</strong> Operations
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="./contrib/impl.html" tabindex="0">
                    <strong aria-hidden="true">3.2.</strong> Implementations
                  </a></li>
                  </ol>
                  </li>
                <li class="chapter-item expanded ">
                  <a href="./changelog.html" tabindex="0">
                    <strong aria-hidden="true">4.</strong> Changelog
                  </a></li>
                </ol>
<!-- I could use also an unescaped context value -->
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">intops</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/vacp2p/nim-intops" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1>Quickstart</h1>
<h2>Installation</h2>
<pre><code class="language-shell">$ nimble install -y nim-intops
</code></pre>
<p>Add intops to your .nimble file:</p>
<pre><code class="language-nim">requires &quot;nim-intops&quot;
</code></pre>
<h2>Usage</h2>
<p>The most straightforward way to use intops is by importing <code>intops</code> and calling the operations from it:</p>
                        <pre><code class="nohighlight hljs nim"><span class="hljs-keyword">import</span> intops

<span class="hljs-keyword">echo</span> carryingAdd(<span class="hljs-number">12'</span>u64, <span class="hljs-number">34'</span>u64, <span class="hljs-literal">false</span>)</code></pre><pre class="nb-output">(res: 46, carryOut: false)</pre>
                        <p><code>intops.carryingAdd</code>¬†is a <em>dispatcher</em>. When invoked, it calls the best implementation of this operation out of the available ones for the given environment.</p>
<p>Notice that we call <code>carryingAdd</code> with <code>uint64</code> type set explicitly. This is important because <code>int</code> can mean different things under different circumstances and so intops doesn't allow this kind of ambiguity.</p>
<p>If you try to call <code>carryingAdd</code> with an <code>int</code>, your code simply won't compile:</p>
                        <pre><code class="nohighlight hljs nim"><span class="hljs-keyword">echo</span> <span class="hljs-keyword">not</span> compiles carryingAdd(<span class="hljs-number">12</span>, <span class="hljs-number">34</span>, <span class="hljs-literal">false</span>)</code></pre><pre class="nb-output">true</pre>
                        <p>All available dispatchers are listed in the <a href="/apidocs/intops.html#6">Imports section of the API docs for intops module</a>.</p>
<p>The operations are grouped into families, each one living in a separate submodule. For example, <code>carryingAdd</code> operation mentioned above is imported from <code>intops/ops/add</code> submodule, so this is where you find its documentation: <a href="/apidocs/intops/ops/add.html#carryingAdd.t%2Cuint64%2Cuint64%2Cbool">/apidocs/intops/ops/add.html</a>.</p>
<h3>Calling Specific Implementations</h3>
<p>You may want to override the dispatcher's choice. To do that, import a particular implementation from <code>intops/impl</code> directly and call the function from it:</p>
                        <pre><code class="nohighlight hljs nim"><span class="hljs-keyword">import</span> intops/impl/intrinsics

<span class="hljs-keyword">echo</span> intrinsics.gcc.carryingAdd(<span class="hljs-number">12'</span>u64, <span class="hljs-number">34'</span>u64, <span class="hljs-literal">false</span>)</code></pre><pre class="nb-output">(46, false)</pre>
                        <p>Implementations are also grouped into families: pure Nim, C intrinsics, inline C, and inline Assembly. Each family can be further split into subgroups.</p>
<p>For example, the <code>carryingAdd</code> implementation above is based on C intrinsics that are specific to GCC/Clang. All such implementations live in <a href="/apidocs/intops/impl/intrinsics/gcc.html"><code>intops/impl/intrinsics/gcc</code></a>. There's also a subgroup that provides an implementation based on Intel/AMD specific C intrinsics‚Äî<a href="/apidocs/intops/impl/intrinsics/x86.html"><code>intops/impl/intrinsics/x86</code></a>.</p>
<p>To see all available implementations for a particular operation, find it in the <a href="/apidocs/theindex.html#carryingAdd">API index</a>.</p>
<h4>Caveat</h4>
<p>When you use a dispatcher, you can be sure that your code will compile in any environment. It is the dispatcher's job to provide a code path for any case, so you don't have to worry about it.</p>
<p>But if you choose to call an implementation manually, it is your job to validate that this implementation is available in the environment you're using it in. If you attempt to use an implementation that is unavailable, you'll get a compile-time error.</p>
<p>For example, trying to use an Inline Assembly implementation with <code>intopsNoInlineAsm</code> flag (more on those in the section below) will cause a compilation error:</p>
                        <pre><code class="nohighlight hljs nim"><span class="hljs-keyword">import</span> intops/impl/inlineasm

<span class="hljs-comment"># These docs are compiled with -d:intopsNoInlineAsm specifically to showcase this:</span>

<span class="hljs-keyword">echo</span> <span class="hljs-keyword">not</span> compiles inlineasm.x86.carryingAdd(<span class="hljs-number">12'</span>u64, <span class="hljs-number">34'</span>u64, <span class="hljs-literal">false</span>)</code></pre><pre class="nb-output">true</pre>
                        <h2>Compilation Flags</h2>
<p>You can control which implementations are forbidden to be picked by dispatchers using the compilation flags:</p>
<ul>
<li><code>intopsNoIntrinsics</code></li>
<li><code>intopsNoInlineAsm</code></li>
<li><code>intopsNoInlineC</code></li>
</ul>
<p>For example, to avoid using Inline Assembly implementations, compile your code with <code>-d:intopsNoInlineAsm</code>:</p>
<pre><code class="language-shell">$ nim c -d:intopsNoInlineAsm mycode.nim
</code></pre>
<p>Of course, you can combine those flags. For example, if you want to use only pure Nim implementations, pass all three forbidding flags:</p>
<pre><code class="language-shell">$ nim c -d:intopsNoIntrinsics -d:intopsNoInlineAsm -d:intopsNoInlineC mycode.nim
</code></pre>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="./index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="./contrib.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="./index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="./contrib.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>







        <script src="./assets/js/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./assets/js/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
